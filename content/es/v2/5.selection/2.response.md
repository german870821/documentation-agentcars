---
title: Respuesta del servicio
description: Respuesta del servicio get-selection
#navigation:
#  icon: i-lucide-album
---

Respuesta del servidor
======================
Se recibe un arreglo separado con las siguientes posiciones:

```
    "uniqid",
    "carInfo",
    "rates",
    "getData"
    "rateInfo"
    "selectionInfo"
    "currencies"
    "carRentalTerms" // NEW!!!
```

## Valores

| VARIABLE      | IMPORTANCIA   | DESCRIPCIÓN                                                                                                           |
| ------------- | ------------- | --------------------------------------------------------------------------------------------------------------------- |
| baseAprox     | `Informativo` | Indica el valor aproximado del valor comisionable, este sirve para determinar lo que se le debe cobrar al cliente     |
| taxAprox      | `Informativo` | Indica el valor aproximado que el cliente debe pagar en el mostrador                                                  |
| totalAprox    | `Informativo` | Indica el valor aproximado del total de la renta                                                                      |
| amount        | `Muy alta`    | Monto a mostrar en la página 3, total de la tarifa                                                                    |

Explicación del contenido de cada una de las posiciónes
--------------------------------------------------------

### uniqid

Identificador de sesión de la transacción en proceso. 

```
    "uniqid": "58e7a97b506d4",
```

### carInfo

Contiene la información del carro asociado por el código SIPP

```
    ECAR: {
        img: "https://multimedia.amadeus.com/mdc/retrieveCarItem?ctg=VEHICLE&prov=AL&cnt=US&vehcat=ECAR&item=0&stamp=VEHICLE_0__0__1459273836067&file=8.JPEG",
        carModel: "Kia Rio or similar",
        sippCode: "ECAR",
        km_included: "Unlimited Miles",
        companyName: "ALAMO",
        doors: "4",
        passengers: "4",
        bags: "1.5",
        air_conditioner: "Yes",
        transmission: "Automatic",
        categoryName: "Economy",
        companyCode: "AL"
    }
```

### rates
Regresa información donde se relacionan de tarifas con las opciones de pago y la información de cada opción

```
Ejemplo:
-Grupo con indice 1 indica la información de tarifa 1 (Solo carro)
-Los grupos internos corresponden a las opciones de pago (ppd - pod) según aplique a la tarifa. Algunas tarifas pueden incluir solo una de las opciones de pago.
    "1": {
      "ppd": {
        .
        .
        . 
      },
      "pod": {
        .
        .
        .
      }
    },
```

Dentro de cada opción de pago(ppd-prepagada, pod-pago en destino) Se muestra toda la información correspondiente a los costos para cada opción.

```
Ejemplo:
-Grupo con opción de pago ppd (prepago) contiene información de la tarifa y costos de la misma.
      "ppd": {
        "rateTypeId": "1",  // Identificador de la tarifa
        "payment_option": "3", //opción de pago de la tarifa ('1'=>'Prepago','2'=>'Pago en destino','3'=>'Prepago y pago en destino')
        "companyCode": "AL", // Código compañía
        "sippCode": "ECAR", // Código SIPP del carro
        "currency": "USD", // Moneda con la que se indican los valores
        "baseAprox": "20.00", 
        "taxAprox": 11.92, 
        "km_included": "Unlimited Miles",
        "totalAprox": "31.92", 
        "amount": "31.12" 
      },
```

::tip
Cuando la agencia contacta con agentcars y solicita que las respuestas del API retornen los montos en una moneda específica, la respuesta incluye campos con el prefijo **'converted'**
::

```
      "ppd": {
        "rateTypeId": "7",
        "payment_option": "1",
        "companyCode": "ZE",
        "sippCode": "MCMR",
        "currency": "EUR",
        "baseAprox": "132.96",
        "taxAprox": 0,
        "km_included": "Unlimited Km",
        "totalAprox": "132.96",
        "amount": "132.96",
        "convertedCurrency": "COP",
        "convertedBaseAprox": "470,657",
        "convertedTaxAprox": "0",
        "convertedTotalAprox": "470,657",
        "convertedAmount": "470,657"
      },

```
### getData

Información recibida en el GET

```
    "getData": {
        "pickUpLocation": "MIA",
        "pickUpAddress": "Miami International Airport, Miami, Florida",
        "dropOffLocation": "MIA",
        "dropOffAddress": "Miami International Airport, Miami, Florida",
        "pickUpDate": "2017-05-17",
        "dropOffDate": "2017-05-18",
        "pickUpHour": "1200",
        "dropOffHour": "1200",
        "companyCode": "AL",
        "cdCode": "NA",
        "pcCode": "NA",
        "country": "US",
        "continent": null,
        "sippCode": "ECAR",
        "source": "CO",
        "rateType": "1",
        "ccrc": "ZEZDRFSD",
        "coupon": null,
        "check": null,
        "language": null
    },
```

### rateInfo

Información de cada una de las tarifas, el nombre, descripción y las inclusiones que tiene

```
    "rateInfo": {
        "1": {
          "name": "Just Car",
          "alias": "Just Car",
          "description": "Basic Rate with Unlimited Mileage, Mandatory Taxes and Fees",
          "inclusions": {
              .
              .
              .
          }
        },
        "2": {
          "name": "Basic Protection",
          "alias": "Basic Protection",
          "description": "Collision Protection (CDW/LDW), Unlimited Mileage, Mandatory Taxes and Fees",
          "inclusions": {
            .
            .
            .
        },
        .
        .
        .
    }
```

Dentro de las inclusiones se encuentra la información de cada una

```
    type:{
     key:value,
     .
     .
     .
    }
    
Ejemplo:
    "mileage": {
        "description": "Most car classes do not have a limit on the kilometers and are included in the rate.  Certain special car classes such as those in the Sporty or Luxury Collections do have limited kilometers and an extra charge applies after reaching the limited amount.  Please inquiry what the limits and charges are with the car rental company at time of pick-up of your rental."
    },
    "surcharges": {
        "description": "These charges collected by the government and are mandatory.  Taxes and fees change from state to state and city to city. Including mandatory taxes and fees in the rate makes your trip easier and faster."
    },
    "cdw/ldw": {
        "description": "The LDW option means that you will not be held responsible for damage to the car in the event that any damage should occur, provided the loss or damage was not the result of any prohibited use of the car."
    },
    "lis/lsi": {
        "description": "Liability Insurance Supplement (LIS/SLI) provides you with up to $1 million of increased protection should bodily injury and property damage claims be made against you by people injured in an accident. LIS safeguards your insurance policy and/or your personal assets for the first $1 million should such claims be made against you."
    },
    "2nd_driver": {
        "description": "Including an additional driver in your rate allows you to add a driver of 25 years of age or older without any additional charge."
    },
    "gps": {
        "description": "Including a GPS in your rate guarantees you will never get lost.  This navigational system can be found in ten languages and eliminates guesswork during your trip so you can get to your destination faster."
    }
```

Algunas inclusiones tienen información adicional

```
Ejemplo:
    "mileage": {
        "description": "Most car classes do not have a limit on the kilometers and are included in the rate.  Certain special car classes such as those in the Sporty or Luxury Collections do have limited kilometers and an extra charge applies after reaching the limited amount.  Please inquiry what the limits and charges are with the car rental company at time of pick-up of your rental.",
        "limit": "100 Km"
    },
    "cdw": {
        "description": "Collision Protection with Deductible releases you of financial responsibility in case of damages to the car, provided the loss or damage was not the result of any prohibited use of the car.  Collision Protection with Deductible will not cover any deductible in case of an accident or damage to the car. In case of damage to the vehicle, the client will be responsible for any deductible that may apply.",
        "currency": "NOK",
        "excess": "9500",
        "policyName": "CDW - COLLISION DAMAGE WAIVER"
    },
```

### cancellationPolicy

Si aplica, retorna arreglo con toda la información sobre la politica de cancelación/noshow de la rentadora

```
    "cancellationPolicy": {
        "description": "Prepaid reservations can be cancelled free of charge up to 2 days before pick-up date. The following fees will apply for cancellations less than 2 days from pick-up date. The following fees will apply for a prepaid reservation not picked-up and considered a No Show. In case the  voucher value is lower than  the fee amount, the whole amount  of the voucher will be retained as a fee.",
        "amount": 45,
        "no_show_amount": 95,
        "currency": "EUR",
        "period_type": "Before Pick-up Date",
        "period_hours": 48,
    },
```

## Parámetros de inclusión

| VARIABLE      | OBLIGATORIA   | SIGNIFICADO                                                                                   |
| ------------- | ------------- | --------------------------------------------------------------------------------------------- |
| description   | SI            | Texto con la descripción de la inclusión                                                      |
| limit         | NO            | Retorna el límite de kilometros/millas de la tarifa, si no tiene límite retorna 'Unlimited'   |
| currency      | NO            | Moneda del deducible                                                                          |
| excess        | NO            | Monto a pagar deducible                                                                       |
| liability     | NO            | Valor de cobertura de inclusión CDW                                                           |
| policyName    | NO            | Información adicional del Car Policy                                                          |

### selectionInfo

Información adicional refenrente sobre la opción seleccionada de la matriz

```
    "selectionInfo": {
        "days": 1
    },
```

### carRentalTerms
 URL que puede cargar en una etiqueta html iframe, contiene toda la información de los terminos y condiciones de la rentadora. 

```
    "carRentalTerms": "https://www.agentcars.com/en/site/get-rental-car-terms?companyCode=ZE&country=US"
```

Ejemplo etiqueta html:

```
<iframe src="https://www.agentcars.com/en/site/get-rental-car-terms?companyCode=ZE&country=US" width=1170 height=500>Your browser does not support iframes</iframe>
```