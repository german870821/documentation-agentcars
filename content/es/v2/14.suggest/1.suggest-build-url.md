---
title: Cómo usar Suggest
description: Descripción de cómo usar Suggest
#navigation:
#  icon: i-lucide-album
---

URL Suggest
-------------------

Se consulta la siguiente URL para obtener el listado de aeropuertos y ciudades que coincidan con el texto enviado:

| URL                                                        | ENTORNO    |
| ---------------------------------------------------------- | ---------- |
| https://suggest.agentcars.com/suggest/                     | producción |

Parámetros de envío Suggest
-------------------

Todos los parámetros de envíos van por `GET`

| VARIABLE         | OBLIGATORIA   | SIGNIFICADO                              |
| ---------------- | ------------- | ---------------------------------------- |
| lang             | YES           | ISO de idioma para recibir respuesta. *  |
| query            | YES           | Texto a buscar (ej: miami)               |

*Lenguajes disponibles: Inglés (en), Español (es), Japonés (ja), Coreano (ko), Portugués (pt), Alemán (de), Francés (fr), Italiano (it), Árabe (ar)

Parámetros recibidos Suggest
-------------------

| VARIABLE         | SIGNIFICADO                                                                       |
| ---------------- | --------------------------------------------------------------------------------- |
| airport          | `true`(verdadero) si es aeropuerto, `false`(falso) si no lo es                    |
| cityLoc          | `true`(verdadero) si es ciudad, `false`(falso) si no lo es                        |
| countryCode      | País del aeropuerto o ciudad, codigo alfa 2 ej: United States (US), Colombia (CO) |
| hasoffice        | Número de oficinas que tiene cerca                                                |
| iata             | Código `IATA` de la ciudad o aeropuerto si lo tiene                               |
| latitude         | Latitud de la ciudad o aeropuerto                                                 |
| longitude        | Longitud de la ciudad o aeropuerto                                                |
| schedule         | Horarios en que esta abierto el punto seleccionado por días                       |
| timezone         | Zona horaria (ej: America/New_York)                                               |
| value            | Valor mostrado, formato NOMBRE, IATA, ESTADO, PAÍS (ej: Aeropuerto Intl de Miami, MIA, Florida, Estados Unidos) |

#### Horarios: `schedule`

Horarios de cada punto seleccionado dividido por días de la semana (1: Lunes, 2: Martes, 3: Miercoles, 4: Jueves, 5: Viernes, 6: Sábado, 7: Domingo) y cada uno con su respectivo horario.

Ejemplo:

```
    ...
    "schedule": {
      "1": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "2": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "3": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "4": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "5": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "6": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ],
      "7": [
        {
          "close": "2400",
          "opening": "0001"
        }
      ]
    },
    ...
```

#### Respuesta


Ejemplo de respuesta:

```
https://suggest.agentcars.com/suggest/?lang=es&query=miami

[
..
  {
    "value": "Aeropuerto Intl de Miami, MIA, Florida, Estados Unidos",
    "iata": "MIA",
    "countryCode": "US",
    "airport": true,
    "cityLoc": false,
    "latitude": 25.79343,
    "longitude": -80.29005,
    "hasoffice": "15",
    "schedule": ...,
    "timezone": "America/New_York"
  },
  ...
]
```

Cómo construir la URL de Búsqueda
-------------------

| URL                                                        | ENTORNO     |
| ---------------------------------------------------------- | ----------- |
| https://cars.dominioagencia.com/es/site/search/            | producción  |
| https://www.agentcars.com/subsite/es/site/search/          | pruebas     |

| VARIABLE               | SIGNIFICADO                        |
| ---------------------- | ---------------------------------- |
| es                     | Lenguaje*                          |
| cars                   | Subdomio a escoger por la agencia  |
| dominioagencia.com     | URL de la agencia                  |

*Lenguajes disponibles: Inglés (en), Español (es), Japonés (ja), Coreano (ko), Portugués (pt), Alemán (de), Francés (fr), Italiano (it), Árabe (ar)

Parámetros de envío de Búsqueda
-------------------

Todos los parámetros de envíos van por `GET`

| VARIABLE         | OBLIGATORIA   | SIGNIFICADO                                                                                                                   |
| ---------------- | ------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| rateType         | YES           | Valor constante: best                                                                                                         |
| pickUpLocation   | YES           | Ciudad Pickup - Basado en código `IATA` del aeropuerto o ciudad de destino. En caso de ser una ciudad se pone el valor `City` |
| dropOffLocation  | YES           | Ciudad Dropoff - Basado en código `IATA` del aeropuerto o ciudad de retorno. En caso de ser una ciudad se pone el valor `City`, si es diferente a Ciudad Pickup `City2` |
| pickUpDate       | YES           | Fecha de Pickup - Formato yyyy-mm-dd                                                                                          |
| dropOffDate      | YES           | Dropoff Date - Format yyyy-mm-dd                                                                                              |
| pickUpHour       | YES           | Hora de Pickup - Formato militar ej: 0800 -> 8:00 am                                                                          |
| dropOffHour      | YES           | Hora de Dropoff - Formato militar ej: 0800 -> 8:00 am                                                                         |
| source           | NO            | País de fuente, codigo alfa 2 ej: United States (US), Colombia (CO)                                                           |
| country          | NO            | País de oficina, codigo alfa 2 ej: United States (US), Colombia (CO)                                                          |
| paymentType      | NO            | Tipo de pago de los resultados mostrados (ppd: Pagar Ahora, pod: Pago en Destino)                                             |
| lat              | NO**          | Latitud de la Ciudad Pickup                                                                                                   |
| lng              | NO**          | Longitud de la Ciudad Pickup                                                                                                  |
| latDropOff       | NO**          | Latitud de la Ciudad Dropoff                                                                                                  |
| lngDropOff       | NO**          | Longitud de la Ciudad Dropoff                                                                                                 |

*Lenguajes disponibles: Inglés (en), Español (es), Japonés (ja), Coreano (ko), Portugués (pt), Alemán (de), Francés (fr), Italiano (it), Árabe (ar)

**Solo aplica obligatorio con búsqueda por ciudades

### IATA

#### Para aeropuertos

El código de aeropuertos de `IATA` es un código de tres letras que designa a cada aeropuerto en el mundo, estos son de 3 letras, de la siguiente manera:

| CÓDIGO  | AEROPUERTO                        |
| ------- | --------------------------------- |
| MIA     | Miami International Airport       |
| LAX     | Los Angeles International Airport |

#### Para ciudades

Los códigos `IATA` para las ciudades son de la siguiente manera:

| CÓDIGO | SITUACIÓN                                                                                                                                        |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| City   | En pickUpLocation y dropOffLocation, cuando Ciudad Pickup y Ciudad Dropoff son iguales. Agregar a la busqueda latitud (lat) y longitud (lng) de la ciudad |
| City2  | En dropOffLocation, cuando Ciudad Pickup y Ciudad Dropoff son diferentes. Agregar a la búsqueda latitud (lat y latDropOff) y longitud (lng y lngDropOff) de ambas ciudades |

### Ejemplos de URL

#### Para aeropuertos (aeropuerto de recogida igual a aeropuerto de devolución)

```
https://www.agentcars.com/subsite/es/site/search/?rateType=best&pickUpDate=2019-08-21&pickUpHour=1200&dropOffDate=2019-08-24&dropOffHour=1200&pickUpLocation=MIA&dropOffLocation=MIA

//Parámetros enviados en la cadena anterior:
rateType:best
pickUpLocation:MIA
dropOffLocation:MIA
pickUpDate:2019-08-21
dropOffDate:2019-08-24
pickUpHour:1200
dropOffHour:1200
```

#### Para ciudades (ciudad de recogida igual a ciudad de devolución)

```
https://www.agentcars.com/subsite/es/site/search/?rateType=best&pickUpDate=2019-08-21&pickUpHour=1200&dropOffDate=2019-08-24&dropOffHour=1200&pickUpLocation=City&dropOffLocation=City&lat=25.79065&lng=-80.13005

//Parámetros enviados en la cadena anterior:
rateType:best
pickUpLocation:City
dropOffLocation:City
pickUpDate:2019-08-21
dropOffDate:2019-08-24
pickUpHour:1200
dropOffHour:1200
lat:25.79065
lng:-80.13005
```

#### Para ciudades (ciudad de recogida diferente a ciudad de devolución)

```
https://www.agentcars.com/subsite/es/site/search/?rateType=best&pickUpDate=2019-08-21&pickUpHour=1200&dropOffDate=2019-08-24&dropOffHour=1200&pickUpLocation=City&dropOffLocation=City2&lat=25.79065&lng=-80.13005&latDropOff=28.53834&lngDropOff=-81.37924

//Parámetros enviados en la cadena anterior:
rateType:best
pickUpLocation:City
dropOffLocation:City2
pickUpDate:2019-08-21
dropOffDate:2019-08-24
pickUpHour:1200
dropOffHour:1200
lat:25.79065
lng:-80.13005
latDropOff:28.53834
lngDropOff:-81.37924
```

Descargar formulario de ejemplo
-------------------

Puede descargar el archivo que contiene el formulario de ejemplo [aquí](../ejemplo-form-url.zip).