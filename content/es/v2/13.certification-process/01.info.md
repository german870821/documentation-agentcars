---
title: Proceso de certificación
description: Descripción del proceso de certificación
#navigation:
#  icon: i-lucide-album
---

AgentCars Webservice - Proceso de certificación
========================================

Implementación Servicios
---------------------

![Proceso de certificación](https://cdn.agentcars.com/images/common/certification-process.png)  

Tiempos de respuesta

Uso adecuado de los servicios (Envió de solicitudes, no duplicidad en los llamados, o más llamados de los que se deberían). 
Validando de errores ej:(Fechas invalidas, tarifas invalidas).

Los servicios requeridos que deben haber sido implementados para iniciar el proceso de certificación son:

| Servicio         | Descripción                                                                                           |
| ---------------- | ----------------------------------------------------------------------------------------------------- |
| getMatrix        | Se encarga de regresar todos los tipos de carros, agrupados por categorías, y en orden ascendente según valor de la tarifa, dentro de cada categoría  |
| getSelection     | Envía la información del auto seleccionado, con las tarifas válidas                                   |
| rateInformation  | Trae el detalle de la tarifa seleccionada, este es llamado con la información recogida en getSelection, por lo que es dependiente de este servicio |
| confirmation     | Genera la venta, devuelve la confirmación de la rentadora, con la información enviada para la reserva |
| cancel           | Cancela la Reserva                                                                                    |

Valores a tener en cuenta en la implementación
------------------------

| VARIABLE         | IMPORTANCIA   | DESCRIPCIÓN                                                                                                         |
| ---------------- | ------------- | ------------------------------------------------------------------------------------------------------------------- |
| baseAprox        | `Informativo` | Indica el valor aproximado del valor comisionable, este sirve para determinar lo que se le debe cobrar al cliente   |
| taxAprox         | `Informativo` | Indica el valor aproximado que el cliente debe pagar en el mostrador                                                |
| totalAprox       | `Informativo` | Indica el valor aproximado del total de la renta                                                                    |
| rateConverted    | `Informativo` | Es la tarifa bruta convertida a USD, esto sirve para ordenar las tarifas, cuando vienen en múltiples monedas, pero No se toma en cuenta  |
| rateAmount       | `Alta`        | getMatrix, monto que se debe mostrar en la matrix de comparación de carros                                          |
| amount           | `Alta`        | getSelection, monto a mostrar en la página 3, total de la tarifa                                                    |
| base             | `Muy alta`    | rateInformation, monto que debe ser cobrado al cliente                                                              |
| realBase         | `Muy alta`    | rateInformation, esta es la base comisionable, el valor sobre el que comisionan (también llega unos campos con la información de la comisión)  |
| total            | `Alta`        | rateInformation, es el valor total real de la reserva, debe coincidir con totalAprox, rateAmount, amount            |
| tax              | `Muy alta`    | rateInformation, estos son los impuestos que debe pagar el cliente en el mostrador                                  |
| realTax          | `Muy alta`    | rateInformation, estos son los impuestos que realmente tiene la tarifa, y no son comisionables, algunas compañías de renta como SIXT nos autorizaron a colectar los impuestos, pero estos no son comisionables, por eso la diferencia con tax  |
| vocuherAmount    | `Muy alta`    | Este es el campo que se debe mostrar en el voucher que se genera al cliente, junto con el currency que aparecen en la respuesta del confirmation  |

Detalles valores para el proceso de certificación
------------------------

A continuación, se detallan los campos que las agencias deben u1lizar en la implementación de sus si1os
web:

#### get-matrix

![Detalle valores get-matrix](https://cdn.agentcars.com/images/common/detalle-valores-matrix-api-1.png)

#### get-selection y get-rate-information

![Detalle valores get-selection y get-rate-information 1](https://cdn.agentcars.com/images/common/detalle-valores-pagina-3-api-1.png)
![Detalle valores get-selection y get-rate-information 2](https://cdn.agentcars.com/images/common/detalle-valores-pagina-3-api-2.png)

Checklist y Pruebas para el proceso de certificación
------------------------

Para completar satisfactoriamente el proceso de certificación, se deben realizar las siguientes pruebas.
Por cada una, es necesario enviar una carpeta que contenga:

1. **LOGS:** Registros completos de cada servicio u1lizado (requests y responses) en formato texto (no
   imágenes).
2. **CAPTURAS DE PANTALLA:**
   - De la página de resultados (servicio get-matrix).
   - De la página de detalle una vez seleccionado un vehículo (servicios get-selection y get-rate-
   informa1on).
3. **VOUCHER:** Generado en formato PDF correspondiente a la reserva realizada (servicio my-
   reservation).

#### Búsquedas requeridas para las pruebas

1. MIA - MIA, proveedor Hertz
2. FLL - FLL, proveedor Budget
3. MIA - LAX, proveedor Alamo
4. MCO - MCO, proveedor Sixt
5. CDG - CDG, proveedor Avis
6. MAD - MAD, proveedor Europcar
7. Miami Beach (búsqueda en ciudad, no aeropuerto), cualquier proveedor (Thrifty, Avis, etc.)

**IMPORTANTE:** Prestar especial atención a los campos destacados en la sección de documentación
"Valores a tener en cuenta en la implementación".

**EJEMPLO DE PRUEBA:** Se adjunta un ejemplo completo de la prueba MIA - MIA con Hertz, comparando
los resultados con el portal de Agentcars: [MIA-MIA-Hertz.zip](https://cdn.agentcars.com/images/common/MIA-MIA-Hertz.zip)

Reservas Reales
------------------------

En este paso se procede a activar el usuario de webservice para que pueda emitir reservas reales, revisando que las confirmaciones por parte de las rentadoras se ejecuten correctamente.
Adicional se deben realizar validaciones de errores regresados por las rentadoras directamente, que el cliente debe controlar.
Todas las reservas en este punto deben tener `lastName = Test`, para que el sistema asi las detecte y las cancele automáticamente en caso de no realizarse, por su parte.

Vouchers y Confirmaciones
--------------------------------------

Todas las reservas deben tener un proceso una vez efectuada. Envió de email al cliente con la notificación de la reserva y la emisión de un documento PDF donde se indica la reserva que se tiene. 
Este documento es un Voucher para las reservas prepagadas(ppd) o una confirmación para las reservas pago en destino (pod).
El voucher cuenta con información especial dependiendo de la rentadora la cual será regresada por el servicio `confirmation` y que debe ser implementada en este.
La confirmación generalmente tiene información estándar que no requiere personalización.
Ambos deben mostrar tarifa, inclusión y montos

Aquí unas muestras de los vouchers, confirmaciones y su información:

* Voucher Alamo [here](https://api.dev.agentcars.com/vouchers/Alamo-TEST.pdf).
* Voucher Avis [here](https://api.dev.agentcars.com/vouchers/Avis-TEST.pdf).
* Voucher Budget [here](https://api.dev.agentcars.com/vouchers/Budget-TEST.pdf).
* Voucher Hertz [here](https://api.dev.agentcars.com/vouchers/Hertz-test.pdf).
* Voucher Thrifty [here](https://api.dev.agentcars.com/vouchers/Thrifty-test.pdf).
* POD Confirmation [here](https://api.dev.agentcars.com/vouchers/POD-test.pdf).
